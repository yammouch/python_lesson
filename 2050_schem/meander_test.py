import meander as dut
import util as utl

exp = [utl.parse_row(r) for r in
 #  0              5             10
 ["0A,02,02,02,01,  ,  ,  ,  ,  ,  ,  ,  ,  ", # 0
  "  ,  ,  ,  ,01,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,01,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,03,02,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,01,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,02,02,02,20,  ,02,02,02,10,  ,  ,  ", # 5
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ", # 10
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  "]]
if dut.meander_0_0([14, 14], [4, 3, 2, 2, 3, 3]) \
 == {'field': exp,
     'cmd': {'cmd': 'move-x', 'org': [1, 4], 'dst': 2}}:
  print('[OK]', end='')
else:
  print('[ER]', end='')
print(' meander_0_0')

exp = [utl.parse_row(r) for r in
 #  0              5             10
 ["0A,02,01,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ", # 0
  "  ,  ,01,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,01,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,01,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,01,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,02,02,02,20,  ,02,02,02,10,  ,  ,  ", # 5
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ", # 10
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  "]]
if dut.meander_0_1([14, 14], [4, 3, 2, 2, 3, 3]) \
 == {'field': exp,
     'cmd': {'cmd': 'move-y', 'org': [0, 0], 'dst': 5}}:
  print('[OK]', end='')
else:
  print('[ER]', end='')
print(' meander_0_1')

exp = [utl.parse_row(r) for r in
 #  0              5             10
 ["  ,  ,  ,03,02,02,01,  ,  ,  ,  ,  ,  ,  ", # 0
  "  ,  ,  ,01,  ,  ,01,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,02,02,02,03,02,20,  ,02,02,10,  ",
  "  ,  ,  ,  ,  ,  ,01,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,01,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,01,  ,  ,  ,  ,  ,  ,  ", # 5
  "0A,02,02,02,02,02,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ", # 10
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ",
  "  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  "]]
if dut.ring_0_0([14, 14], [6, -4, -2, 3, 2, 2]) \
 == {'field': exp,
     'cmd': {'cmd': 'move-y', 'org': [0, 4], 'dst': 2}}:
  print('[OK]', end='')
else:
  print('[ER]', end='')
print(' ring_0_0')
